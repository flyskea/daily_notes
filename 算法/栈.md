åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ ˆ (Stack) æ˜¯ä¸€ç§æŠ½è±¡æ•°æ®ç»“æ„ï¼Œä¸»è¦é’ˆå¯¹é›†åˆç±»æ•°æ® (æœ€å¸¸è§çš„æ˜¯æ•°ç»„) è¿›è¡Œä¸¤ç§æ“ä½œï¼š

1. **Push (å…¥æ ˆ)**: å°†å…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­
2. **Pop (å‡ºæ ˆ)**: å°†æœ€è¿‘åŠ å…¥çš„å…ƒç´ ä»é›†åˆä¸­åˆ é™¤

![æ ˆçš„æ“ä½œ - æ‰§è¡Œè¿‡ç¨‹](../picture/c49fbebdc08b80a6d2fd43b3ec331aee_MD5.webp)



å¦‚ä¸Šå›¾æ‰€ç¤ºçš„æ ˆç»“æ„ä¸­ï¼Œåˆå§‹åŒ–æ ˆå†…å…ƒç´ ä¸º 1ï¼Œç´§æ¥ç€è¿›è¡Œäº†ä¸¤è½®æ“ä½œ:

1. å°†å…ƒç´  2, 3, 4, 5, 6 åˆ†åˆ«å…¥æ ˆ (ä¹Ÿå°±æ˜¯å›¾ä¸­çš„ 1, 2, 3, 4, 5 å¯¹åº”çš„å°å›¾)
2. å°†å…ƒç´  6, 5, 4, 2, 2 åˆ†åˆ«å‡ºæ ˆ (ä¹Ÿå°±æ˜¯å›¾ä¸­çš„ 6, 7, 8, 9, 10 å¯¹åº”çš„å°å›¾)

å› ä¸ºå…¥æ ˆå’Œå‡ºæ ˆçš„æ“ä½œé¡ºåºæ­£å¥½ç›¸åï¼Œæ‰€ä»¥æ ˆçš„é¡ºåºç®€ç§°ä¸º â€œåè¿›å…ˆå‡ºâ€ï¼Œå•æ¬¡ç¼©å†™ä¸º LIFO (Last In, First Out)ã€‚

# ğŸ› ï¸ å®¹æ˜“å‡ºé”™çš„ç»†èŠ‚

è™½ç„¶æ ˆ (Stack) æ•°æ®ç»“æ„ç®€å•ç›´è§‚ï¼Œæ˜“äºç†è§£ï¼Œä½†æ˜¯å®è·µä¸­è¿˜æ˜¯æœ‰å‡ ä¸ªå¸¸è§çš„ç»†èŠ‚ä¼šå¼•å‘ Bugã€‚

1. å…¥æ ˆå’Œå‡ºæ ˆæ“ä½œé¡ºåºé”™è¯¯
2. **è¾¹ç•Œå¼‚å¸¸**: æ ˆä¸ºç©ºæ—¶å‡ºæ ˆã€æ ˆæº¢å‡º (æ ˆå·²æ»¡æ—¶å…¥æ ˆ)
3. æ— é™å¾ªç¯æˆ–é€’å½’: æ²¡æœ‰åŠæ—¶å‡ºæ ˆæˆ–è€…å‡ºæ ˆé€»è¾‘å®ç°é”™è¯¯
4. å…ƒç´ ç±»å‹å¼‚å¸¸: å…¥æ ˆä¹‹å‰åº”è¯¥æ£€æµ‹å…ƒç´ ç±»å‹ï¼Œå°¤å…¶æ˜¯å½“å…ƒç´ ä¸ºæ¥å£ç±»å‹æ—¶ï¼Œä¸€å®šè¦æ£€æµ‹å…¥æ ˆå…ƒç´ æ˜¯å¦å®ç°äº†ç‰¹å®šæ¥å£ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯

# [20. æœ‰æ•ˆçš„æ‹¬å·](https://leetcode.cn/problems/valid-parentheses/description/)

ç»™å®šä¸€ä¸ªåªåŒ…æ‹¬Â `'('`ï¼Œ`')'`ï¼Œ`'{'`ï¼Œ`'}'`ï¼Œ`'['`ï¼Œ`']'`Â çš„å­—ç¬¦ä¸²Â `s`Â ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æœ‰æ•ˆã€‚

æœ‰æ•ˆå­—ç¬¦ä¸²éœ€æ»¡è¶³ï¼š

1. å·¦æ‹¬å·å¿…é¡»ç”¨ç›¸åŒç±»å‹çš„å³æ‹¬å·é—­åˆã€‚
2. å·¦æ‹¬å·å¿…é¡»ä»¥æ­£ç¡®çš„é¡ºåºé—­åˆã€‚
3. æ¯ä¸ªå³æ‹¬å·éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚

> **è¾“å…¥ï¼š** s = "()"
> **è¾“å‡ºï¼š** true

è§£é¢˜æ€è·¯:

1. å°†å­—ç¬¦åˆ†ä¸ºä¸¤ç»„ï¼Œå·¦è¾¹ç•Œç»„:Â `( { [`, å³è¾¹ç•Œç»„ Â `) } ]`ï¼Œå¹¶å½¢æˆæ˜ å°„å…³ç³»:Â `( => ), { => }, [ => ]`
2. å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªæ ˆç»“æ„ï¼Œç”¨äºå­˜å‚¨å­—ç¬¦
3. éå†å­—ç¬¦ä¸²
	1. å¦‚æœå½“å‰å­—ç¬¦å±äºå·¦è¾¹ç•Œç»„ï¼Œå°†å…¶å…¥æ ˆ
	2. å¦‚æœå½“å‰å­—ç¬¦å±äºå³è¾¹ç•Œç»„ï¼Œå–å‡ºæ ˆé¡¶å­—ç¬¦
	3. æ¯”è¾ƒå½“å‰å­—ç¬¦å’Œæ ˆé¡¶å­—ç¬¦æ˜¯å¦ä¸ºæ˜ å°„å…³ç³»ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯´æ˜å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆæ‹¬å·ï¼Œç›´æ¥è¿”å› false å³å¯
4. éå†å­—ç¬¦ä¸²ç»“æŸï¼Œç¡®è®¤æ ˆæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œè¯´æ˜å­—ç¬¦ä¸²æ˜¯æœ‰æ•ˆæ‹¬å·ï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œè¯´æ˜å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆæ‹¬å·

```go
// é¢˜è§£ä»£ç 
func isValid(s string) bool {
 // å¦‚æœ s çš„é•¿åº¦ä¸ºå¥‡æ•°ï¼Œè‚¯å®šä¸æ˜¯æœ‰æ•ˆæ‹¬å·
 if len(s)&1 == 1 {
  return false
 }

 // å°†å·¦å³è¾¹ç•Œå­—ç¬¦è¿›è¡Œåˆ†ç»„å¹¶å½¢æˆæ˜ å°„
 charMap := map[byte]byte{
  '(': ')',
  '{': '}',
  '[': ']',
 } 

 var stack []byte

 for i := range s {
  if _, ok := charMap[s[i]]; ok {
   stack = append(stack, s[i])
  } else {
   index := len(stack) - 1
   if len(stack) == 0 || s[i] != charMap[stack[index]] {
    return false
   }
   stack = stack[:index]
  }
 }

 // æ­¤æ—¶æ ˆå†…å¯èƒ½è¿˜å­˜åœ¨ä¸€äº›å·¦è¾¹ç•Œå­—ç¬¦
 // æ‰€ä»¥éœ€è¦åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º
 return len(stack) == 0
}
```

# [150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼](https://leetcode.cn/problems/evaluate-reverse-polish-notation/description/)

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„Â `tokens`Â ï¼Œè¡¨ç¤ºä¸€ä¸ªæ ¹æ®Â [é€†æ³¢å…°è¡¨ç¤ºæ³•](https://baike.baidu.com/item/%E9%80%86%E6%B3%A2%E5%85%B0%E5%BC%8F/128437)Â è¡¨ç¤ºçš„ç®—æœ¯è¡¨è¾¾å¼ã€‚

è¯·ä½ è®¡ç®—è¯¥è¡¨è¾¾å¼ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºè¡¨è¾¾å¼å€¼çš„æ•´æ•°ã€‚

> **è¾“å…¥**ï¼štokens = ["2","1","+","3","*"]
> **è¾“å‡º**ï¼š9
> **è§£é‡Š**ï¼šè¯¥ç®—å¼è½¬åŒ–ä¸ºå¸¸è§çš„ä¸­ç¼€ç®—æœ¯è¡¨è¾¾å¼ä¸ºï¼š((2 + 1) * 3) = 9

è§£é¢˜æ€è·¯ï¼š

1. å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªæ ˆç»“æ„ï¼Œç”¨äºå­˜å‚¨éå†è¿‡ç¨‹ä¸­é‡åˆ°çš„æ•°å­—
2. éå† tokens æ•°ç»„
	1. å¦‚æœå½“å‰ token æ˜¯æ•°å­—ï¼Œå°†å…¶å…¥æ ˆ
	2. å¦‚æœå½“å‰ token æ˜¯è¿ç®—ç¬¦ï¼Œå–å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°å­—ï¼Œå¹¶æ ¹æ®è¿ç®—ç¬¦æ‰§è¡Œå…·ä½“çš„è®¡ç®—ï¼Œç„¶åå°†è®¡ç®—ç»“æœåŠ å…¥æ ˆ
3. éå† tokens æ•°ç»„ç»“æŸï¼Œ**è¿”å›æ ˆåº•å…ƒç´ **Â (ä¹Ÿå°±æ˜¯æœ€åä¸€æ¬¡è®¡ç®—å‡ºçš„ç»“æœå€¼)

```go
func evalRPN(tokens []string) int {
 if len(tokens) == 0 {
  return 0
 }

 var stack []int

 for _, token := range tokens {
  // å°†å½“å‰ token è§£æä¸ºæ•°å­—
  val, err := strconv.Atoi(token)

  // å¦‚æœæ²¡æœ‰å‘ç”Ÿé”™è¯¯
  // è¯´æ˜å½“å‰ token ä¸ºæ•°å­—ï¼Œç›´æ¥å…¥æ ˆ
  if err == nil {
   stack = append(stack, val)
  } else {
   // è¯´æ˜å½“å‰ token ä¸ºè¿ç®—ç¬¦
   // å–å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°å­—
   num1, num2 := stack[len(stack)-2], stack[len(stack)-1]
   stack = stack[:len(stack)-2]

   // æ ¹æ®ä¸åŒçš„è¿ç®—ç¬¦æ‰§è¡Œä¸åŒçš„è®¡ç®—
   // åŒæ—¶å°†è®¡ç®—ç»“æœåŠ å…¥åˆ°æ ˆä¸­s
   switch token {
   case "+":
    stack = append(stack, num1+num2)
   case "-":
    stack = append(stack, num1-num2)
   case "*":
    stack = append(stack, num1*num2)
   case "/":
    stack = append(stack, num1/num2)
   }
  }
 }

 // è¿”å›æ ˆåº•å…ƒç´ 
 return stack[0]
}
```

# [71. ç®€åŒ–è·¯å¾„](https://leetcode.cn/problems/simplify-path/description/)

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²Â `path`Â ï¼Œè¡¨ç¤ºæŒ‡å‘æŸä¸€æ–‡ä»¶æˆ–ç›®å½•çš„Â Unix é£æ ¼Â **ç»å¯¹è·¯å¾„**Â ï¼ˆä»¥Â `'/'`Â å¼€å¤´ï¼‰ï¼Œè¯·ä½ å°†å…¶è½¬åŒ–ä¸ºæ›´åŠ ç®€æ´çš„è§„èŒƒè·¯å¾„ã€‚

åœ¨ Unix é£æ ¼çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªç‚¹ï¼ˆ`.`ï¼‰è¡¨ç¤ºå½“å‰ç›®å½•æœ¬èº«ï¼›æ­¤å¤–ï¼Œä¸¤ä¸ªç‚¹ ï¼ˆ`..`ï¼‰Â è¡¨ç¤ºå°†ç›®å½•åˆ‡æ¢åˆ°ä¸Šä¸€çº§ï¼ˆæŒ‡å‘çˆ¶ç›®å½•ï¼‰ï¼›ä¸¤è€…éƒ½å¯ä»¥æ˜¯å¤æ‚ç›¸å¯¹è·¯å¾„çš„ç»„æˆéƒ¨åˆ†ã€‚ä»»æ„å¤šä¸ªè¿ç»­çš„æ–œæ ï¼ˆå³ï¼Œ`'//'`ï¼‰éƒ½è¢«è§†ä¸ºå•ä¸ªæ–œæ Â `'/'`Â ã€‚ å¯¹äºæ­¤é—®é¢˜ï¼Œä»»ä½•å…¶ä»–æ ¼å¼çš„ç‚¹ï¼ˆä¾‹å¦‚ï¼Œ`'...'`ï¼‰å‡è¢«è§†ä¸ºæ–‡ä»¶/ç›®å½•åç§°ã€‚

è¯·æ³¨æ„ï¼Œè¿”å›çš„Â **è§„èŒƒè·¯å¾„**Â å¿…é¡»éµå¾ªä¸‹è¿°æ ¼å¼ï¼š

- å§‹ç»ˆä»¥æ–œæ Â `'/'`Â å¼€å¤´ã€‚
- ä¸¤ä¸ªç›®å½•åä¹‹é—´å¿…é¡»åªæœ‰ä¸€ä¸ªæ–œæ Â `'/'`Â ã€‚
- æœ€åä¸€ä¸ªç›®å½•åï¼ˆå¦‚æœå­˜åœ¨ï¼‰**ä¸èƒ½**Â ä»¥Â `'/'`Â ç»“å°¾ã€‚
- æ­¤å¤–ï¼Œè·¯å¾„ä»…åŒ…å«ä»æ ¹ç›®å½•åˆ°ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•çš„è·¯å¾„ä¸Šçš„ç›®å½•ï¼ˆå³ï¼Œä¸å«Â `'.'`Â æˆ–Â `'..'`ï¼‰ã€‚

è¿”å›ç®€åŒ–åå¾—åˆ°çš„Â **è§„èŒƒè·¯å¾„**Â ã€‚

> ç¤ºä¾‹ 1ï¼š
> 
> **è¾“å…¥**ï¼špath = "/home//foo/"
> **è¾“å‡º**ï¼š"/home/foo"
> **è§£é‡Š**ï¼šåœ¨è§„èŒƒè·¯å¾„ä¸­ï¼Œå¤šä¸ªè¿ç»­æ–œæ éœ€è¦ç”¨ä¸€ä¸ªæ–œæ æ›¿æ¢ã€‚
> 
> ç¤ºä¾‹ 2ï¼š
> 
> **è¾“å…¥**ï¼špath = "/a/./b/../../c/"
> **è¾“å‡º**ï¼š"/c"

è§£é¢˜æ€è·¯ï¼š

1. å£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªæ ˆç»“æ„ï¼Œç”¨äºå­˜å‚¨éå†è¿‡ç¨‹ä¸­é‡åˆ°çš„ ç›®å½•åç§°/æ–‡ä»¶åç§°
2. å°†å‚æ•°è·¯å¾„ä½¿ç”¨Â `/`Â åˆ†éš”ç¬¦åˆ†å‰²ä¸ºå­—ç¬¦ä¸²æ•°ç»„
3. éå†å­—ç¬¦ä¸²æ•°ç»„
	1. å¦‚æœå½“å‰å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„è·¯å¾„å­—ç¬¦ï¼Œä¾‹å¦‚Â `""`Â `.`, ç›´æ¥è·³è¿‡
	2. å¦‚æœå½“å‰å­—ç¬¦ä¸²æ˜¯ç›®å½•åç§°/æ–‡ä»¶åç§°ï¼Œå°†å…¶å…¥æ ˆ
	3. å¦‚æœå½“å‰å­—ç¬¦ä¸²è¡¨ç¤ºä¸Šçº§ç›®å½•Â `..`Â ï¼Œå°†æ ˆé¡¶å…ƒç´ å‡ºæ ˆ
4. éå†å­—ç¬¦ä¸²æ•°ç»„ç»“æŸï¼Œå°†æ ˆå†…æ‰€æœ‰å…ƒç´ ä½¿ç”¨Â `/`Â åˆ†éš”ç¬¦åˆ†å‰²ä¸ºå­—ç¬¦ä¸²è·¯å¾„ï¼Œç„¶ååœ¨è·¯å¾„æœ€å‰é¢åŠ Â `/`Â å³å¯

```go
func simplifyPath(path string) string {
	stack := []string{}

	for _, p := range strings.Split(path, "/") {
		switch p {
		case ".", "":
			continue
		case "..":
			if len(stack) > 0 {
				stack = stack[:len(stack)-1]
			}
		default:
			stack = append(stack, p)
		}
	}

	return "/" + strings.Join(stack, "/")
}
```

